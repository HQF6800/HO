import numpy as np
import matplotlib.pyplot as plt
plt.rcParams['font.sans-serif']=['Microsoft YaHei']#Used to display Chinese labels normally
plt.rcParams['axes.unicode_minus']=False#Used to display the negative sign normally

DQN_without_predoiction=[48921.273, 43248.95, 39932.13, 15562.926, 22277.613, 5633.04, 3983.2253, 4206.0107, 8458.335, 1769.6433, 1043.7338, 1028.4513, 498.54584, 434.20624, 5314.329, 4893.2437, 400.1877, 766.7752, 1690.0952, 1454.2706, 1695.8383, 7016.5005, 500.66516, 5675.527, 567.81915, 5529.586, 1995.0742, 286.36, 2021.781, 1489.194, 894.29736, 820.0081, 1357.871, 654.5989, 333.9474, 2148.191, 743.2034, 1457.707, 3684.7349, 696.0696, 856.4293, 1809.0928, 3446.2397, 2261.0054, 801.8533, 259.43396, 2710.466, 483.2439, 727.71545, 716.44495, 573.70404, 329.30804, 576.4563, 273.1328, 863.37744, 138.14957, 2230.847, 297.86472, 171.578, 3800.2173, 1183.9421, 577.19763, 1411.415, 1660.2278, 926.3966, 916.2478, 2887.4077, 407.59247, 292.86847, 353.06735, 217.76468, 643.5013, 169.74869, 103.379166, 130.81496, 167.9025, 119.33976, 205.01962, 495.20172, 1698.0248, 1000.7348, 1072.0969, 746.094, 240.84659, 841.4877, 187.5676, 384.65143, 390.1378, 231.15488, 253.03816, 1219.6885, 1328.8907, 1422.2366, 1099.2716, 1742.522, 432.33368, 644.88116, 957.67487, 1076.9265, 744.91315, 897.79736, 529.2759, 719.07886, 1016.3836, 853.4637, 1492.3839, 509.68488, 1096.5669, 791.52277, 934.0986, 1107.3608, 821.17816, 637.5719, 704.92224, 438.9607, 390.93604, 559.13293, 759.1833, 280.31552, 432.30154, 424.7418, 485.82654, 526.9325, 436.57678, 989.68933, 887.36646, 565.7975, 605.4346, 389.73642, 512.0796, 489.03223, 1261.5886, 329.35385, 626.04803, 539.13666, 291.54852, 457.51813, 554.57874, 1008.2024, 528.3721, 712.05164, 421.0809, 620.4182, 665.7473, 545.24744, 277.90393, 810.1056, 601.88855, 945.76404, 1387.2898, 475.0586, 758.6745, 1222.4602, 1215.3447, 905.39026, 248.40594, 886.4558, 210.62727, 171.0466, 338.0614, 257.23776, 543.94836, 585.8907, 403.78983, 406.23224, 886.8063, 1314.0312, 1454.0637, 666.50085, 567.90393, 406.29733, 606.8928, 1131.7935, 288.98145, 64.38291, 216.57137, 332.85953, 245.01813, 350.20453, 244.73381, 595.3059, 2276.1958, 1023.8424, 878.14355, 914.35144, 584.17285, 519.0629, 1067.1302, 619.51556, 813.6508, 265.70044, 1097.7627, 1056.9906, 413.55713, 114.962234, 671.48706, 486.70096, 540.31446, 560.05458, 540.00134]
DQN_predoiction=[54924.46, 15119.023, 7998.7847,5207.1895, 3394.1226, 1104.4637, 790.09607, 2875.246, 548.9965, 494.11368, 3371.0662, 2438.058, 696.255, 398.34973, 2157.8813, 269.9432, 327.06525, 200.92102, 4768.6675, 4198.013, 2629.9, 3592.781, 2172.0405, 1200.9884, 2573.2024, 2967.5103, 2156.2651, 2092.7834, 966.202, 702.06647, 1044.324, 990.6216, 1024.682, 1666.837, 3114.2688, 847.6207, 734.1855, 2004.4163, 422.29504, 1294.4424, 2161.8594, 660.9455, 615.2897, 557.3788, 750.812, 752.25195, 4378.0083, 323.7512, 676.854, 448.84613, 323.2801, 4726.8457, 775.1632, 853.87683, 839.46826, 614.65393, 505.02936, 568.75867, 442.66357, 232.91837, 3424.3828, 827.3036, 666.3264, 466.84088, 1331.5804, 253.65498, 458.27402, 494.11304, 3457.4282, 982.45154, 451.89865, 394.28064, 950.1421, 366.8541, 1123.129, 439.48755, 679.5403, 470.4856, 1313.554, 523.9458, 802.1467, 405.12762, 346.40802, 531.92944, 450.62262, 419.22333, 662.6673, 545.09515, 381.4856, 1336.0847, 793.7893, 858.97626, 690.6973, 535.9164, 1013.9142, 525.7374, 1104.41, 672.9115, 663.2111, 975.2719, 692.289, 311.19696, 626.71466, 441.0634, 849.1152, 455.85065, 1140.4443, 661.89044, 752.32214, 580.05676, 171.2724, 492.56744, 1005.5331, 256.23547, 566.50696, 363.69882, 528.77844, 562.532, 2562.7607, 1051.7947, 298.76648, 181.40692, 309.9966, 1130.7471, 289.22354, 364.82455, 534.04956, 678.7306, 2450.2632, 846.9385, 877.3127, 521.13544, 264.5658, 450.6408, 359.6715, 417.42538, 412.41357, 587.9414, 2268.6802, 361.0716, 297.83365, 243.19998, 118.20996, 277.0964, 626.3859, 730.6373, 841.9862, 745.7007, 643.05426, 222.8035, 256.24948, 162.66168, 296.2235, 461.88882, 193.80142, 728.7258, 529.7466, 751.33875, 612.8747, 563.06464, 279.42618, 233.67798, 138.24313, 644.2201, 167.31152, 85.2121, 230.3624, 237.33159, 192.57246, 102.17821, 142.94118, 272.28644, 578.47314, 744.485, 570.0867, 326.45557, 459.90625, 303.29333, 506.98047, 521.02954, 269.65326, 306.76816, 291.9579, 118.102516, 102.27362, 116.12467, 162.92642, 317.1914, 399.5705, 419.78555, 330.58762, 223.30365, 200.2563, 323.50534, 300.97455, 106.862045, 199.45714, 217.3211, 226.43364, 76.97797]
DQN_predoiction_V=[60246.9, 41787.973, 44787.496, 5754.6465, 3683.8464, 5790.1777, 45679.574, 3851.8, 43696.92, 43722.293, 33819.715, 1553.345, 5047.7217, 7565.442, 1847.2631, 2986.684, 35231.89, 7350.9844, 10220.066, 8250.245, 11477.58, 26468.576, 4329.8975, 1115.544, 5679.3604, 66457.414, 6253.8506, 5201.924, 7708.4443, 1098.9868, 1156.297, 2672.0835, 1438.4141, 1977.0023, 1244.7126, 23773.902, 3684.686, 3198.4375, 3210.35, 3191.7139, 2325.2935, 4746.3325, 3724.4216, 4113.4497, 2679.5903, 677.23236, 775.6322, 762.293, 778.5005, 1105.1013, 1874.3977, 1131.7998, 1326.7747, 4507.6143, 4003.4365, 4892.0728, 9644.358, 3121.0627, 3446.1968, 2224.6404, 1001.6936, 4431.401, 13531.817, 5368.338, 1006.075, 753.5895, 927.46643, 1325.5535, 8459.363, 2363.098, 4230.8477, 3111.5347, 3218.7666, 939.4176, 364.74304, 661.786, 1119.7731, 829.7641, 5646.8037, 3094.2966, 2873.1301, 5085.0117, 4950.2935, 2369.939, 587.5088, 537.26044, 407.11267, 840.8686, 3270.3235, 1903.1031, 2382.379, 2316.684, 2357.626, 1236.2571, 1479.5928, 1177.5112, 715.44006, 516.103, 494.79993, 481.78174, 514.6806, 560.05493, 1304.9575, 3949.523, 4357.968, 6691.2656, 1603.9991, 643.7333, 729.9653, 672.6633, 521.04474, 343.45026, 375.69836, 253.60709, 253.89682, 715.26843, 2900.6367, 5398.69, 2141.6987, 702.1981, 492.29877, 162.94226, 627.3624, 598.6786, 1241.094, 2735.0044, 4621.677, 1728.9661, 2676.3696, 997.15125, 881.5948, 738.93066, 593.0241, 1123.9844, 1244.3953, 824.2482, 1400.8561, 2316.5476, 1138.2871, 1134.1263, 2594.0547, 5109.9775, 5433.7046, 1418.4467, 965.74036, 344.4041, 1915.3518, 495.67523, 536.67816, 1347.5735, 756.15643, 855.7179, 1726.1992, 2411.3203, 4013.258, 1199.155, 1836.9606, 995.9412, 1007.8843, 521.7623, 191.91782, 227.6863, 446.01187, 306.63605, 782.49036, 1742.8486, 2508.876, 1781.2859, 4093.4126, 2712.415, 3294.0793, 1318.3164, 1025.741, 564.08167, 208.49875, 250.59073, 590.84546, 845.4802, 715.48016, 580.49854, 519.7996, 870.34424, 3235.521, 3939.3804, 1125.1296, 1252.9745, 966.5501, 330.07828, 682.45984, 221.83585, 455.10757, 335.40588, 340.93494, 379.9874, 339.16586, 754.9041, 765.9634, 858.261, 559.2983, 210.6923]
plt.plot(np.arange(len(DQN_predoiction)), DQN_predoiction,label='with predoiction')
plt.plot(np.arange(len(DQN_without_predoiction)), DQN_without_predoiction,label='without predoiction')
# plt.plot(np.arange(len(DQN_predoiction)), DQN_predoiction,label='fixed v')
# plt.plot(np.arange(len(DQN_predoiction_V)), DQN_predoiction_V,label='variable v ')
plt.ylabel('Cost')
plt.xlabel('Train episodes')
plt.legend(loc='upper right', frameon=True, prop={'size': 8})
plt.savefig('./cost/DQN_loss.png',format='png',dpi = 300)
plt.savefig('./cost/DQN_loss.pdf',format='pdf',dpi = 300)
# plt.savefig('./cost/DQN_loss_V.png',format='png',dpi = 300)
# plt.savefig('./cost/DQN_loss_V.pdf',format='pdf',dpi = 300)
plt.show()

# PPHOR,TLHOR,TEHOR 0.013375295043273014 0.9279239215954572 0.019635343618513323 #without_predoiction
# PPHOR,TLHOR,TEHOR 0.24745434774457236 0.07332483407701826 0.012130188608496757  #predoiction
# PPHOR,TLHOR,TEHOR 0.23352647216302191 0.050137006435628   0.022372468530514115  #predoiction_V




